@namespace Dx29.Web.UI.Components

<td class="px-4 @CssClass">
    <div class="text-truncate-1 font-size-h6 font-weight-bolder">@Text</div>
    @if (Status.EqualsNoCase("Busy"))
    {
        <div class="d-flex mt-0">
            <div class="progress progress-xs my-1 w-100">
                <div class="progress-bar bg-primary opa-75" role="progressbar" style="width: @($"{Progress99}%")" aria-valuenow="@Progress99" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <span class="text-dark text-right w-50px mx-2">@Progress99 %</span>
        </div>
    }
    else if (Status.EqualsNoCase("Ready"))
    {
        <div class="d-flex mt-0">
            <div class="text-truncate-1 font-size-sm text-dark w-150px opa-75">@Label</div>
            <div class="progress progress-xs my-1 w-100">
                <div class="progress-bar bg-success opacity-50" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <span class="text-dark text-right w-80px mx-2">100 %</span>
        </div>
    }
    else
    {
        <div class="text-truncate-1 font-size-sm text-danger opa-75">@Label</div>
    }
</td>

@code
{
    [Parameter]
    public string CssClass { get; set; }

    [Parameter]
    public string Text { get; set; }

    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public string Status { get; set; }

    [Parameter]
    public int Progress { get; set; }

    private int Progress99 => Math.Min(99, Progress);
}
